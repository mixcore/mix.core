<form ng-class="{'submitted': submitted}" ng-submit="$ctrl.submit()" ng-if="$ctrl.database.columns.length"><div class="row" ng-if="!$ctrl.hideAction"><div class="col-8"></div><div class="col-4 mb-3"><actions back-url="$ctrl.backUrl"></actions></div></div><div class="card"><h6 ng-bind="$ctrl.database.displayName"></h6><h6 ng-if="!$ctrl.hideAction" class="card-header position-sticky" style="top: 3.9rem; z-index: 12"><span class="spinner-border spinner-border-sm text-primary" role="status" aria-hidden="true" ng-if="$ctrl.isBusy"></span> <a class="btn btn-link text-primary btn-sm float-end py-0" ng-if="$ctrl.backUrl" href="{{$ctrl.backUrl}}"><i class="fas fa-chevron-left"></i> List data </a><a href="#" ng-if="$ctrl.mixDatabaseId==1" ng-click="$ctrl.showContentFilter()" class="btn bnt-sm btn-primary px-3 text-white"><i class="fas fa-search"></i> Search links </a><button ng-if="$ctrl.guidParentId" type="button" data-bs-toggle="modal" data-bs-target="#modal-data-filter" class="btn btn-sm btn-link py-0 float-end" ng-disabled="$ctrl.isBusy"><i class="fas fa-folder"></i> Browse Data</button> <button type="button" ng-click="$ctrl.reload()" class="btn btn-sm btn-link py-0 float-end" ng-disabled="$ctrl.isBusy" ng-if="$ctrl.canSave"><i class="fas fa-plus"></i> Create blank</button> <button type="button" ng-click="$ctrl.submit()" class="btn btn-sm btn-link btn-round pull-right float-end me-2 py-0" ng-disabled="$ctrl.isBusy" ng-if="$ctrl.canSave"><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-if="$ctrl.isBusy" ng-show="!$ctrl.isBusy"></span> <i class="fas fa-save"></i> Save current</button></h6><div id="mixDatabaseId_{{$ctrl.mixDataContent.id}}" class="card-body show"><div class="row"><div class="col-sm-12"><div ng-repeat="column in $ctrl.database.columns | filter:{ dataType: '!Reference'} | orderBy:'priority' track by $index"><mix-column-editor ng-if="column" level="$ctrl.level + 1" model="$ctrl.mixDataContent" column="column" back-url="$ctrl.backUrl" guid-parent-id="$ctrl.mixDataContentId"></mix-column-editor></div></div></div></div><div ng-if="$ctrl.database" class="text-muted" ng-repeat="ref in $ctrl.database.relationships"><div class="col-2"><h6 class="control-label m-0 text-primary" ng-bind="$ctrl.translate(ref.displayName)"></h6></div><div class="alert alert-warning" role="alert" ng-if="!$ctrl.mixDataContent.id"><i class="fas fa-exclamation-triangle me-3"></i> Please save the current item to initialization a parent ID before input it child's data!</div><div class="row" ng-if="$ctrl.mixDataContent.id"><div class="mb-5 card"><mix-database-data-values header="''" parent-id="$ctrl.mixDataContent.id" parent-name="ref.sourceDatabaseName" mix-database-name="ref.destinateDatabaseName"></mix-database-data-values><div class="card-body"><div class="row"><div class="col-sm-12"><em>Total items: <span ng-bind="data.totalItems" class="text-muted"></span></em></div></div><paging class="small" page="data.page" page-size="data.pageSize" total="data.totalItems" ul-class="pagination justify-content-end m-0" a-class="page-link" paging-action="getList(page-1)" scroll-top="true"></paging></div></div></div></div><div class="card-footer" ng-if="!$ctrl.hideAction"><button type="button" ng-click="$ctrl.submit()" class="btn btn-sm btn-primary btn-round float-end px-4" ng-disabled="$ctrl.isBusy" ng-if="$ctrl.canSave"><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" ng-if="$ctrl.isBusy" ng-show="!$ctrl.isBusy"></span> <i class="fas fa-save"></i> Save current</button></div></div></form><mix-database-data-filter ng-if="$ctrl.guidParentId" callback="$ctrl.loadSelected()" mix-database-id="$ctrl.mixDatabaseId" mix-database-name="$ctrl.mixDatabaseName" selected-list="$ctrl.selectedList" columns="$ctrl.database.columns"></mix-database-data-filter><modal-content-filter ng-if="$ctrl.mixDataContent" callback="$ctrl.loadSelectedLink(nav,type)"></modal-content-filter>